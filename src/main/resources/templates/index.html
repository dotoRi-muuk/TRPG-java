<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRPG 데미지 계산기</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎲 TRPG 데미지 계산기</h1>
            <p class="subtitle">직업별 기술 데미지를 계산합니다</p>
            <nav style="margin-top: 10px;">
                <a href="/" style="color: #3498db; margin-right: 20px;">🏠 계산기</a>
                <a href="/wiki.html" style="color: #3498db;">📖 위키</a>
            </nav>
        </header>

        <main>
            <!-- 주사위 굴리기 섹션 -->
            <section class="section dice-section">
                <h2>🎲 주사위 굴리기</h2>
                <div class="form-group">
                    <label for="diceCount">주사위 개수</label>
                    <input type="number" id="diceCount" value="1" min="1" max="20">
                </div>
                <div class="form-group">
                    <label for="diceSides">주사위 면 수</label>
                    <select id="diceSides">
                        <option value="4">D4</option>
                        <option value="6" selected>D6</option>
                        <option value="8">D8</option>
                        <option value="10">D10</option>
                        <option value="12">D12</option>
                        <option value="20">D20</option>
                    </select>
                </div>
                <button onclick="rollDice()" class="btn btn-primary">주사위 굴리기</button>
                <div id="diceResult" class="result"></div>
            </section>

            <!-- 통합 직업/수비/정수 선택 섹션 -->
            <section class="section job-section">
                <h2>⚔️ 능력 선택</h2>
                <div class="job-tabs">
                    <button class="tab-btn active" onclick="showCategory('defense', event)">🛡️ 수비</button>
                    <button class="tab-btn" onclick="showCategory('essence', event)">✨ 정수</button>
                    <button class="tab-btn" onclick="showCategory('normal', event)">1차 직업</button>
                    <button class="tab-btn" onclick="showCategory('hidden', event)">2차 직업</button>
                    <button class="tab-btn" onclick="showCategory('secret', event)">히든직업</button>
                </div>

                <!-- 수비 탭 -->
                <div id="defense-category" class="job-category">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="defense-damageTaken">받는 데미지</label>
                            <input type="number" id="defense-damageTaken" value="50" min="0">
                        </div>
                        <div class="form-group">
                            <label for="defense-strength">힘</label>
                            <input type="number" id="defense-strength" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="defense-dexterity">민첩</label>
                            <input type="number" id="defense-dexterity" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="defense-swiftness">신속</label>
                            <input type="number" id="defense-swiftness" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="defense-critical">치명타</label>
                            <input type="number" id="defense-critical" value="10" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateDefense('defend')" class="btn btn-skill">방어 (힘)</button>
                        <button onclick="calculateDefense('evade')" class="btn btn-skill">회피 (민첩)</button>
                        <button onclick="calculateDefense('deflect')" class="btn btn-skill">흘리기 (힘, 민첩)</button>
                        <button onclick="calculateDefense('parry')" class="btn btn-skill">패링 (힘, 민첩, 신속)</button>
                        <button onclick="calculateDefense('counter-parry')" class="btn btn-skill">카운터 패링 (힘, 민첩, 신속, 치명타)</button>
                    </div>
                    <div id="defenseResult" class="result"></div>
                </div>

                <!-- 정수 탭 -->
                <div id="essence-category" class="job-category" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="essence-baseDamage">기본 데미지</label>
                            <input type="number" id="essence-baseDamage" value="100" min="0">
                        </div>
                        <div class="form-group">
                            <label for="essence-durationTurns">효과 지속 턴 수</label>
                            <input type="number" id="essence-durationTurns" value="3" min="1" max="8">
                        </div>
                        <div class="form-group">
                            <label for="essence-last3TurnsDamage">지난 3턴 피해 (잔향)</label>
                            <input type="number" id="essence-last3TurnsDamage" value="150" min="0">
                        </div>
                        <div class="form-group">
                            <label for="essence-allyDamage">아군 기준 피해 (어둠 대리자)</label>
                            <input type="number" id="essence-allyDamage" value="50" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <h4>빛 계열</h4>
                        <button onclick="calculateEssence('sunset')" class="btn btn-skill">석양 (데미지 250%)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>어둠 계열</h4>
                        <button onclick="calculateEssence('black-flame')" class="btn btn-skill">흑염 (D6% 데미지)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>영혼 계열</h4>
                        <button onclick="calculateEssence('afterglow')" class="btn btn-skill">잔향 (지난 3턴 피해 50%)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>번개 계열</h4>
                        <button onclick="calculateEssence('thunder')" class="btn btn-skill">천둥 (데미지 200%)</button>
                        <button onclick="calculateEssence('surge')" class="btn btn-skill">격동 (지속턴*50% 추가)</button>
                        <button onclick="calculateEssence('flash')" class="btn btn-skill">섬광 (데미지 200%)</button>
                        <button onclick="calculateEssence('rampage')" class="btn btn-skill">폭주 (판정 성공시 250%)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>대리자 계열</h4>
                        <button onclick="calculateEssence('light-proxy')" class="btn btn-skill">빛(대리자) (200%)</button>
                        <button onclick="calculateEssence('dark-proxy')" class="btn btn-skill">어둠(대리자) (200%)</button>
                        <button onclick="calculateEssence('soul-proxy')" class="btn btn-skill">영혼(대리자) (50% 추가)</button>
                        <button onclick="calculateEssence('lightning-proxy')" class="btn btn-skill">번개(대리자) (판정)</button>
                    </div>
                    <div id="essenceResult" class="result"></div>
                </div>

                <!-- 기본 직업 -->
                <div id="normal-jobs" class="job-category" style="display: none;">
                    <div class="job-cards">
                        <div class="job-card" onclick="selectJob('warrior', event)">
                            <h3>⚔️ 전사</h3>
                            <p>힘, 체력</p>
                        </div>
                        <div class="job-card" onclick="selectJob('archer', event)">
                            <h3>🏹 궁수</h3>
                            <p>힘, 민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('rogue', event)">
                            <h3>🗡️ 도적</h3>
                            <p>힘, 민첩, 신속</p>
                        </div>
                        <div class="job-card" onclick="selectJob('mage', event)">
                            <h3>🔮 마법사</h3>
                            <p>지능, 지혜</p>
                        </div>
                        <div class="job-card" onclick="selectJob('priest', event)">
                            <h3>✝️ 사제</h3>
                            <p>지능, 지혜</p>
                        </div>
                    </div>
                </div>

                <!-- 2차 직업 -->
                <div id="hidden-jobs" class="job-category" style="display: none;">
                    <div class="job-cards">
                        <div class="job-card" onclick="selectJob('samurai', event)">
                            <h3>⚔️ 무사</h3>
                            <p>힘 (+체력)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('berserker', event)">
                            <h3>💢 버서커</h3>
                            <p>힘, 체력 (+민첩)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('gambler', event)">
                            <h3>🎰 겜블러</h3>
                            <p>힘, 민첩 (운)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('assassin', event)">
                            <h3>🗡️ 암살자</h3>
                            <p>힘/민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('knight', event)">
                            <h3>🛡️ 기사</h3>
                            <p>힘, 체력</p>
                        </div>
                        <div class="job-card" onclick="selectJob('ninja', event)">
                            <h3>🥷 닌자</h3>
                            <p>민첩, 신속</p>
                        </div>
                        <div class="job-card" onclick="selectJob('gunslinger', event)">
                            <h3>🔫 건슬링거</h3>
                            <p>힘/민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('sniper', event)">
                            <h3>🎯 저격수</h3>
                            <p>힘/민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('masterarcher', event)">
                            <h3>🏹 명사수</h3>
                            <p>힘, 민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('crossbowman', event)">
                            <h3>🎯 석궁사수</h3>
                            <p>힘/민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('spearman', event)">
                            <h3>🔱 창술사</h3>
                            <p>힘 (+민첩)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('trickster', event)">
                            <h3>🃏 트릭스터</h3>
                            <p>힘/민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('poacher', event)">
                            <h3>🦌 밀렵꾼</h3>
                            <p>힘/민첩</p>
                        </div>
                        <div class="job-card" onclick="selectJob('archmage', event)">
                            <h3>🧙 마도사</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('barriermage', event)">
                            <h3>🛡️ 결계술사</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('magicswordsman', event)">
                            <h3>⚔️ 마검사</h3>
                            <p>지능 (+지혜, 마나)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('summoner', event)">
                            <h3>🐉 소환술사</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('alchemist', event)">
                            <h3>⚗️ 연금술사</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('lightpriest', event)">
                            <h3>✨ 빛의 사제</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('darkpriest', event)">
                            <h3>🌑 어둠의 사제</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('lightningpriest', event)">
                            <h3>⚡ 번개의 사제</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('soulpriest', event)">
                            <h3>👻 영혼의 사제</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                        <div class="job-card" onclick="selectJob('timepriest', event)">
                            <h3>⏰ 시간의 사제</h3>
                            <p>지능 (+지혜)</p>
                        </div>
                    </div>
                </div>

                <!-- 히든 직업 -->
                <div id="secret-jobs" class="job-category" style="display: none;">
                    <div class="job-cards">
                        <div class="placeholder-message" style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #888;">
                            <h3>🔒 히든직업</h3>
                            <p>현재 사용 가능한 히든직업이 없습니다.</p>
                            <p>추후 업데이트를 기다려주세요!</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 기술 선택 및 데미지 계산 섹션 -->
            <section id="skill-section" class="section" style="display: none;">
                <h2 id="selected-job-title">기술 선택</h2>
                
                <!-- 전사 스킬 -->
                <div id="warrior-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="warrior-power">힘</label>
                            <input type="number" id="warrior-power" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="warrior-maxHealth">최대 체력</label>
                            <input type="number" id="warrior-maxHealth" value="100" min="1">
                        </div>
                        <div class="form-group">
                            <label for="warrior-curHealth">현재 체력</label>
                            <input type="number" id="warrior-curHealth" value="100" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateWarrior('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateWarrior('strike')" class="btn btn-skill">강타 (D10)</button>
                        <button onclick="calculateWarrior('side')" class="btn btn-skill">가로베기 (D8)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>전용 수비</h4>
                        <div class="form-group">
                            <label for="warrior-damageTaken">받은 데미지</label>
                            <input type="number" id="warrior-damageTaken" value="10" min="0">
                        </div>
                        <button onclick="calculateWarriorShield()" class="btn btn-skill">육참골단</button>
                    </div>
                </div>

                <!-- 궁수 스킬 -->
                <div id="archer-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="archer-stat">스탯 (힘 또는 민첩)</label>
                            <input type="number" id="archer-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="archer-strength">힘 (동시 사용)</label>
                            <input type="number" id="archer-strength" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="archer-dexterity">민첩 (동시 사용)</label>
                            <input type="number" id="archer-dexterity" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="archer-consecutiveHits">연속 공격 횟수 (사냥감)</label>
                            <input type="number" id="archer-consecutiveHits" value="1" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateArcher('plain')" class="btn btn-skill">기본공격 - 단일 (D4)</button>
                        <button onclick="calculateArcher('plain-dual')" class="btn btn-skill">기본공격 - 동시 (D6)</button>
                        <button onclick="calculateArcher('quickshot')" class="btn btn-skill">퀵샷 (3xD4)</button>
                        <button onclick="calculateArcher('dash')" class="btn btn-skill">대쉬 - 단일 (D4)</button>
                        <button onclick="calculateArcher('dash-dual')" class="btn btn-skill">대쉬 - 동시 (D6)</button>
                        <button onclick="calculateArcher('hunt')" class="btn btn-skill">사냥감</button>
                    </div>
                </div>

                <!-- 도적 스킬 -->
                <div id="rogue-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="rogue-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="rogue-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="rogue-dexterity">민첩 (투척용)</label>
                            <input type="number" id="rogue-dexterity" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="rogue-swiftness">신속</label>
                            <input type="number" id="rogue-swiftness" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="rogue-useTwoDice">
                                D4 x 2 사용 (기본공격)
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateRogue('plain')" class="btn btn-skill">기본공격</button>
                        <button onclick="calculateRogue('stab')" class="btn btn-skill">쑤시기 (D6)</button>
                        <button onclick="calculateRogue('throw')" class="btn btn-skill">투척/속공 (D6)</button>
                    </div>
                </div>

                <!-- 마법사 스킬 -->
                <div id="mage-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="mage-intelligence">지능</label>
                            <input type="number" id="mage-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="mage-additionalMana">추가 마나 (마나 블래스트)</label>
                            <input type="number" id="mage-additionalMana" value="0" min="0">
                        </div>
                        <div class="form-group">
                            <label for="mage-damageTaken">받은 데미지 (매직가드)</label>
                            <input type="number" id="mage-damageTaken" value="10" min="0">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="mage-useMana">
                                마나 소모 (기본공격 D8)
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateMage('plain')" class="btn btn-skill">기본공격</button>
                        <button onclick="calculateMage('magic-bullet')" class="btn btn-skill">마탄 (D8x3)</button>
                        <button onclick="calculateMage('mana-blast')" class="btn btn-skill">마나 블래스트 (D6x6)</button>
                        <button onclick="calculateMage('magic-guard')" class="btn btn-skill">매직가드 (수비)</button>
                    </div>
                </div>

                <!-- 사제 스킬 -->
                <div id="priest-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="priest-intelligence">지능</label>
                            <input type="number" id="priest-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="priest-damageTaken">받은 데미지 (희생)</label>
                            <input type="number" id="priest-damageTaken" value="10" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculatePriest('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculatePriest('revenge')" class="btn btn-skill">복수 (D4x6)</button>
                        <button onclick="calculatePriest('sacrifice')" class="btn btn-skill">희생 (수비)</button>
                    </div>
                </div>

                <!-- 무사 스킬 -->
                <div id="samurai-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="samurai-stat">힘</label>
                            <input type="number" id="samurai-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="samurai-maxHP">최대 체력</label>
                            <input type="number" id="samurai-maxHP" value="100" min="1">
                        </div>
                        <div class="form-group">
                            <label for="samurai-currentHP">현재 체력</label>
                            <input type="number" id="samurai-currentHP" value="100" min="0">
                        </div>
                        <div class="form-group">
                            <label for="samurai-consumedStamina">소모 스태미나 (종점)</label>
                            <input type="number" id="samurai-consumedStamina" value="0" min="0">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="samurai-isMula">
                                물아 모드 (데미지 150%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="samurai-kakugo">
                                각오 (데미지 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="samurai-seishaKetsudan">
                                생사결단 (데미지 300%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="samurai-scatteringSwordDance">
                                흩날리는 검무 (주사위 개수×D4 추가)
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 일격필살: 체력 40% 이하 시 자동으로 데미지 200% 적용</p>
                    <div class="skill-buttons">
                        <button onclick="calculateSamurai('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateSamurai('quick-draw')" class="btn btn-skill">발검 (D8)</button>
                        <button onclick="calculateSamurai('battou')" class="btn btn-skill">발도 (D12)</button>
                        <button onclick="calculateSamurai('jabeop')" class="btn btn-skill">자법 (3D6)</button>
                        <button onclick="calculateSamurai('il-seom')" class="btn btn-skill">일섬 (3D6)</button>
                        <button onclick="calculateSamurai('ranged-attack')" class="btn btn-skill">난격 (5D4)</button>
                        <button onclick="calculateSamurai('flash-strike')" class="btn btn-skill">섬격 (D12 200%)</button>
                        <button onclick="calculateSamurai('final-point')" class="btn btn-skill">종점 (3D20)</button>
                        <button onclick="calculateSamurai('bloom')" class="btn btn-skill">개화 (8D6)</button>
                    </div>
                </div>

                <!-- 버서커 스킬 -->
                <div id="berserker-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="berserker-stat">힘</label>
                            <input type="number" id="berserker-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="berserker-maxHealth">최대 체력</label>
                            <input type="number" id="berserker-maxHealth" value="100" min="1">
                        </div>
                        <div class="form-group">
                            <label for="berserker-currentHealth">현재 체력</label>
                            <input type="number" id="berserker-currentHealth" value="100" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateBerserker('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateBerserker('chop-down')" class="btn btn-skill">찍어내리기 (D8)</button>
                        <button onclick="calculateBerserker('smash')" class="btn btn-skill">부수기 (2D6)</button>
                        <button onclick="calculateBerserker('strike')" class="btn btn-skill">일격 (D20)</button>
                        <button onclick="calculateBerserker('mindless-barrage')" class="btn btn-skill">무지성 난타 (4D8)</button>
                        <button onclick="calculateBerserker('savage-assault')" class="btn btn-skill">흉폭한 맹공 (5D12)</button>
                        <button onclick="calculateBerserker('last-strike')" class="btn btn-skill">최후의 일격 (4D20)</button>
                    </div>
                </div>

                <!-- 겜블러 스킬 -->
                <div id="gambler-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="gambler-stat">힘/민첩</label>
                            <input type="number" id="gambler-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="gambler-luck">운</label>
                            <input type="number" id="gambler-luck" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="gambler-reducedLuck">감소한 운 (일확천금)</label>
                            <input type="number" id="gambler-reducedLuck" value="0" min="0">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="gambler-jackpotActive">
                                일확천금 패시브 활성화
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateGambler('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateGambler('coin-toss')" class="btn btn-skill">코인 토스</button>
                        <button onclick="calculateGambler('joker-card')" class="btn btn-skill">조커 카드</button>
                        <button onclick="calculateGambler('blackjack')" class="btn btn-skill">블랙잭</button>
                        <button onclick="calculateGambler('yatzy-dice')" class="btn btn-skill">야추 다이스</button>
                        <button onclick="calculateGambler('royal-flush')" class="btn btn-skill">로얄 플러쉬</button>
                    </div>
                </div>

                <!-- 암살자 스킬 -->
                <div id="assassin-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="assassin-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="assassin-stat" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="assassin-isReturnTurn">
                                전장 복귀 턴 (암살 대상 400%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="assassin-isFirstAssault">
                                생사여탈 (전투 시작 암살 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="assassin-isConfirmKillActive">
                                확인사살 (암살 후 적 HP 30%↓ → 다음 암살 200%)
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateAssassin('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateAssassin('assassinate')" class="btn btn-skill">암살 (4D20)</button>
                        <button onclick="calculateAssassin('critical-stab')" class="btn btn-skill">급소 찌르기 (2D10)</button>
                        <button onclick="calculateAssassin('throat-slit')" class="btn btn-skill">목 긋기 (D20)</button>
                        <button onclick="calculateAssassin('wrist-slit')" class="btn btn-skill">손목 긋기 (4D4)</button>
                        <button onclick="calculateAssassin('rear-attack')" class="btn btn-skill">후방 공격 (3D6)</button>
                    </div>
                </div>

                <!-- 기사 스킬 -->
                <div id="knight-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="knight-stat">스탯 (힘)</label>
                            <input type="number" id="knight-stat" value="10" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateKnight('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateKnight('smash-down')" class="btn btn-skill">내려치기 (D8)</button>
                        <button onclick="calculateKnight('sweep')" class="btn btn-skill">후려치기 (2D4)</button>
                        <button onclick="calculateKnight('head-strike')" class="btn btn-skill">머리치기 (D6)</button>
                        <button onclick="calculateKnight('defense-break')" class="btn btn-skill">수비파괴 (D6)</button>
                        <button onclick="calculateKnight('stun')" class="btn btn-skill">기절시키기 (D8)</button>
                        <button onclick="calculateKnight('critical-strike')" class="btn btn-skill">일격 (3D12)</button>
                    </div>
                </div>

                <!-- 닌자 스킬 -->
                <div id="ninja-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="ninja-stat">스탯 (민첩)</label>
                            <input type="number" id="ninja-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="ninja-shurikenCount">보유 표창 (일점투척)</label>
                            <input type="number" id="ninja-shurikenCount" value="3" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="ninja-isIllusionTurn">
                                환영 (3n턴, 150%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="ninja-isCloneActive">
                                분신 (75%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="ninja-isReflexActive">
                                순발력 (75%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="ninja-isIdeologySealActive">
                                이념 봉인 (환영 항상, 분신 무시, 300%)
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 이념 봉인 활성화 시: 환영(150%) × 이념봉인(300%) = 450%</p>
                    <div class="skill-buttons">
                        <button onclick="calculateNinja('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateNinja('strike')" class="btn btn-skill">일격 (2D6)</button>
                        <button onclick="calculateNinja('chaos')" class="btn btn-skill">난도 (3D8)</button>
                        <button onclick="calculateNinja('throw-shuriken')" class="btn btn-skill">투척 표창 (D8)</button>
                        <button onclick="calculateNinja('illusion-barrage')" class="btn btn-skill">환영난무 (8D6)</button>
                        <button onclick="calculateNinja('focus-throw')" class="btn btn-skill">일점투척 (표창D10)</button>
                    </div>
                </div>

                <!-- 건슬링거 스킬 -->
                <div id="gunslinger-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="gunslinger-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="gunslinger-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="gunslinger-swiftness">신속 (활약 기회용)</label>
                            <input type="number" id="gunslinger-swiftness" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="gunslinger-isFirstShot">
                                신중함 (첫 공격 300%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="gunslinger-dodgedLastTurn">
                                노림수 (지난 턴 회피 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="gunslinger-isJudgeTurn">
                                심판자 (5n턴, D4% 추가)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="gunslinger-isJudgementTarget">
                                심판 대상 (지정 적 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="gunslinger-isBackstabActive">
                                백스탭 (회피 성공 시 150% 반격)
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateGunslinger('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateGunslinger('double-shot')" class="btn btn-skill">더블샷 (2D6)</button>
                        <button onclick="calculateGunslinger('headshot')" class="btn btn-skill">헤드샷 (D20)</button>
                        <button onclick="calculateGunslinger('quick-draw')" class="btn btn-skill">퀵드로우 (D8/4D8)</button>
                        <button onclick="calculateGunslinger('focus-fire')" class="btn btn-skill">일점사 (6D6)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>스킬</h4>
                        <button onclick="calculateGunslinger('backstab')" class="btn btn-skill">백스탭 반격 데미지</button>
                        <button onclick="calculateGunslinger('warning')" class="btn btn-skill">경고 (반격 300%)</button>
                        <button onclick="calculateGunslinger('notice')" class="btn btn-skill">예고장 (반격 200%)</button>
                        <button onclick="calculateGunslinger('active-opportunity')" class="btn btn-skill">활약 기회 (신속 판정)</button>
                    </div>
                </div>

                <!-- 저격수 스킬 -->
                <div id="sniper-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="sniper-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="sniper-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="sniper-numBuffs">버프 개수 (정조준 25%/개)</label>
                            <input type="number" id="sniper-numBuffs" value="0" min="0">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="sniper-notAttackedFor5Turns">
                                급소조준 (5턴 미공격 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="sniper-noBasicAttackUsed">
                                죽음의 탄환 (기본공격 미사용 150%)
                            </label>
                        </div>
                    </div>
                    <div style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 4px;">
                        <h4>버프 옵션 (발사 시 적용)</h4>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isSecured"> 확보 (광역 면역)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isAssembled"> 조립 버프 (150%)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isLoaded"> 장전 (탄환)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isAimed"> 조준 (수비 무시)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isStabilized"> 안정화 버프 (75%, 주사위 복제)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isImmersed"> 몰입 버프 (200%)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isConfident"> 확신 버프 (250%)</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label><input type="checkbox" id="sniper-isNerveMax"> 신경 극대화 버프 (400%)</label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <h4>공격</h4>
                        <button onclick="calculateSniper('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateSniper('fire')" class="btn btn-skill">발사 (4D20)</button>
                    </div>
                </div>

                <!-- 명궁 스킬 -->
                <div id="masterarcher-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="masterarcher-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="masterarcher-stat" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="masterarcher-isHeavyString">
                                무거운 시위 (2D8, 스태미나1)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="masterarcher-isEmergencyShot">
                                긴급사격 (무거운 시위 비활성화, 기본공격 2회)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="masterarcher-isFirstTarget" checked>
                                첫 대상 (포착 200%)
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 오차 제거 패시브: 스탯 +3 자동 적용</p>
                    <div class="skill-buttons">
                        <button onclick="calculateMasterArcher('plain')" class="btn btn-skill">기본공격 (D6/2D8)</button>
                        <button onclick="calculateMasterArcher('power-shot')" class="btn btn-skill">파워샷 (D8/2D12)</button>
                        <button onclick="calculateMasterArcher('explosive-arrow')" class="btn btn-skill">폭탄 화살 (200%)</button>
                        <button onclick="calculateMasterArcher('split-arrow')" class="btn btn-skill">분열 화살</button>
                        <button onclick="calculateMasterArcher('piercing-arrow')" class="btn btn-skill">관통 화살 (2D12)</button>
                        <button onclick="calculateMasterArcher('double-shot')" class="btn btn-skill">더블 샷 (2회)</button>
                    </div>
                </div>

                <!-- 석궁사수 스킬 -->
                <div id="crossbowman-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="crossbowman-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="crossbowman-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="crossbowman-arrows">장전된 화살</label>
                            <input type="number" id="crossbowman-arrows" value="3" min="0">
                        </div>
                        <div class="form-group">
                            <label for="crossbowman-executionArrows">처형 화살 개수</label>
                            <input type="number" id="crossbowman-executionArrows" value="0" min="0">
                        </div>
                        <div class="form-group">
                            <label for="crossbowman-arrowsToBreak">꺾을 화살 (전용수비)</label>
                            <input type="number" id="crossbowman-arrowsToBreak" value="1" min="0">
                        </div>
                        <div class="form-group">
                            <label for="crossbowman-damageTaken">받은 데미지 (전용수비)</label>
                            <input type="number" id="crossbowman-damageTaken" value="10" min="0">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="crossbowman-focusedAttack">
                                집중 공격 (화살당 30%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="crossbowman-isErrorRemoval">
                                오차 제거 (집중 30%→50%, 무차별 난사 비활성화)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="crossbowman-isDistanceCalc">
                                비거리 계산 (2회 판정 성공 시 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="crossbowman-isExecutionArrow">
                                처형 화살 활성화
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 처형 확률: (화살개수×0.2)% (5% 단위 내림)</p>
                    <div class="skill-buttons">
                        <button onclick="calculateCrossbowman('plain')" class="btn btn-skill">기본공격 (화살D6)</button>
                        <button onclick="calculateCrossbowman('throw')" class="btn btn-skill">던지기 (D6)</button>
                        <button onclick="calculateCrossbowman('quick-load')" class="btn btn-skill">빠른 장전</button>
                        <button onclick="calculateCrossbowman('single-shot')" class="btn btn-skill">단일사격 (D10)</button>
                        <button onclick="calculateCrossbowman('rage-arrow')" class="btn btn-skill">발광 화살 (2D8)</button>
                        <button onclick="calculateCrossbowman('paralyze-arrow')" class="btn btn-skill">마비 화살 (2D8)</button>
                        <button onclick="calculateCrossbowman('break-arrows')" class="btn btn-skill">화살 꺾기 (수비)</button>
                        <button onclick="calculateCrossbowman('desperate-load')" class="btn btn-skill">이럴 때 일수록! (수비)</button>
                    </div>
                </div>

                <!-- 창술사 스킬 -->
                <div id="spearman-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="spearman-stat">스탯 (힘)</label>
                            <input type="number" id="spearman-stat" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="spearman-isAdaptationActive">
                                적응 스킬 (연계 10회↑ 후 3턴간 [연계] 400%)
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 약점파악: 기본 기술 50%, [연계]기술 200%<br>※ 적응 + 약점파악: 200% × 400% = 800%</p>
                    <div class="skill-buttons">
                        <h4>기본 기술 (50%)</h4>
                        <button onclick="calculateSpearman('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateSpearman('spin-thrust')" class="btn btn-skill">돌려 찌르기 (D8)</button>
                        <button onclick="calculateSpearman('spin-strike')" class="btn btn-skill">회전 타격 (D10, 연계)</button>
                        <button onclick="calculateSpearman('low-slash')" class="btn btn-skill">하단 베기 (D6, 연계)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>[연계] 기술 (200%~800%)</h4>
                        <button onclick="calculateSpearman('combo-front-thrust')" class="btn btn-skill">[연계]정면 찌르기 (2D10)</button>
                        <button onclick="calculateSpearman('combo-flash-spear')" class="btn btn-skill">[연계]일섬창 (4D8)</button>
                        <button onclick="calculateSpearman('combo-thunder-strike')" class="btn btn-skill">[연계]천뢰격 (5D12)</button>
                    </div>
                </div>

                <!-- 트릭스터 스킬 -->
                <div id="trickster-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="trickster-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="trickster-stat" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="trickster-skillUsedCount">이번 턴 사용한 기술 횟수 (돌발 이벤트)</label>
                            <input type="number" id="trickster-skillUsedCount" value="0" min="0">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="trickster-isFocusedFire">
                                일점사 (5회 이상 공격 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="trickster-isRepeatCustomer">
                                단골 손님 (일점사 발동 150%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="trickster-isEventPrepared">
                                이벤트 준비 (돌발 이벤트 50%→100%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="trickster-isMainEvent">
                                메인 이벤트 (난사 조건 완화, 최대 제한 제거)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="trickster-isGiantScarActive">
                                거대한 상흔 (특대형 단검 적중 후 200%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="trickster-oilHit">
                                기름통 적중 (라이터 3D6 추가)
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 돌발 이벤트: (기술 횟수)×50% 기본공격 데미지 증가 (이벤트 준비 시 ×100%)</p>
                    <div class="skill-buttons">
                        <button onclick="calculateTrickster('plain')" class="btn btn-skill">기본공격 (난사)</button>
                        <button onclick="calculateTrickster('fake-dagger')" class="btn btn-skill">페이크 단검 (D4)</button>
                        <button onclick="calculateTrickster('bean-shot')" class="btn btn-skill">콩알탄 (2D6)</button>
                        <button onclick="calculateTrickster('oil-barrel')" class="btn btn-skill">기름통 투척 (D4)</button>
                        <button onclick="calculateTrickster('lighter-throw')" class="btn btn-skill">라이터 투척 (D8)</button>
                        <button onclick="calculateTrickster('huge-dagger')" class="btn btn-skill">특대형 단검 (D20)</button>
                        <button onclick="calculateTrickster('party-time')" class="btn btn-skill">파티 타임 (200%)</button>
                    </div>
                </div>

                <!-- 밀렵꾼 스킬 -->
                <div id="poacher-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="poacher-stat">스탯 (힘/민첩)</label>
                            <input type="number" id="poacher-stat" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="poacher-hasDebuff">
                                사냥 (디버프 대상 150%)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="poacher-isLoaded">
                                장전 (기본공격 주사위 업그레이드)
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="poacher-isWeaknessActive">
                                약자멸시 (자신 체력% - 적 체력% ≥ 10%일 때 200%)
                            </label>
                        </div>
                    </div>
                    <p class="note" style="font-size: 0.9em; color: #666;">※ 산탄: (스탯-D20) ≥ 10이면 2D4→2D8</p>
                    <div class="skill-buttons">
                        <button onclick="calculatePoacher('plain')" class="btn btn-skill">기본공격 (2D4/2D8)</button>
                        <button onclick="calculatePoacher('head-chop')" class="btn btn-skill">머리찍기 (D8)</button>
                        <button onclick="calculatePoacher('set-trap')" class="btn btn-skill">덫 깔기 (D10)</button>
                        <button onclick="calculatePoacher('snare-shot')" class="btn btn-skill">올가미 탄 (D8)</button>
                        <button onclick="calculatePoacher('headshot')" class="btn btn-skill">헤드샷 (2D12)</button>
                    </div>
                </div>

                <!-- 마도사 스킬 -->
                <div id="archmage-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="archmage-intelligence">지능</label>
                            <input type="number" id="archmage-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="archmage-usedManaCirculation">
                                마력 순환 사용
                            </label>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="archmage-usedMagicConcentration">
                                마력 집중 사용
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateArchmage('magic-bolt')" class="btn btn-skill">마력탄 (5D4)</button>
                        <button onclick="calculateArchmage('ether-catastrophe')" class="btn btn-skill">에테르 카타스트로피 (5D20)</button>
                        <button onclick="calculateArchmage('lumen-conversion-aoe')" class="btn btn-skill">루멘 컨버전 광역 (4D20)</button>
                        <button onclick="calculateArchmage('lumen-conversion-single')" class="btn btn-skill">루멘 컨버전 단일 (10D12)</button>
                    </div>
                    <div class="skill-buttons">
                        <h4>전용 수비</h4>
                        <div class="form-group">
                            <label for="archmage-baseChantTime">영창 기본 시간</label>
                            <input type="number" id="archmage-baseChantTime" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="archmage-remainingChantTime">남은 영창 시간</label>
                            <input type="number" id="archmage-remainingChantTime" value="5" min="0">
                        </div>
                        <div class="form-group">
                            <label for="archmage-damageTaken">받은 데미지</label>
                            <input type="number" id="archmage-damageTaken" value="10" min="0">
                        </div>
                        <button onclick="calculateArchmageDefense()" class="btn btn-skill">폭주오라</button>
                    </div>
                </div>

                <!-- 결계술사 스킬 -->
                <div id="barriermage-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="barriermage-selectedBarrierCount">선택한 결계 수 (잔영)</label>
                            <input type="number" id="barriermage-selectedBarrierCount" value="1" min="1">
                        </div>
                        <div class="form-group">
                            <label for="barriermage-manaSpentOnBarrier">결계에 소모된 마나 (회수)</label>
                            <input type="number" id="barriermage-manaSpentOnBarrier" value="10" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateBarrierMage('force-field-barrier')" class="btn btn-skill">역장 결계 (D6 보호막)</button>
                        <button onclick="calculateBarrierMage('barrier-afterimage')" class="btn btn-skill">결계 잔영</button>
                        <button onclick="calculateBarrierMage('energy-recovery')" class="btn btn-skill">기운 회수</button>
                    </div>
                </div>

                <!-- 마검사 스킬 -->
                <div id="magicswordsman-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="magicswordsman-intelligence">지능</label>
                            <input type="number" id="magicswordsman-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="magicswordsman-manaSpent">이전 행동 소모 마나 (플로우 오라)</label>
                            <input type="number" id="magicswordsman-manaSpent" value="5" min="0">
                        </div>
                        <div class="form-group">
                            <label for="magicswordsman-damageTaken">받은 데미지 (플로우 오라)</label>
                            <input type="number" id="magicswordsman-damageTaken" value="10" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateMagicSwordsman('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateMagicSwordsman('mana-slash')" class="btn btn-skill">마나 슬래쉬 (3D6)</button>
                        <button onclick="calculateMagicSwordsman('mana-strike')" class="btn btn-skill">마나 스트라이크 (2D10)</button>
                        <button onclick="calculateMagicSwordsman('mana-spear')" class="btn btn-skill">마나 스피어 (D20)</button>
                        <button onclick="calculateMagicSwordsman('spin-chryst')" class="btn btn-skill">스핀 크라이스트 (4D8)</button>
                        <button onclick="calculateMagicSwordsman('triple-slain')" class="btn btn-skill">트리플 슬레인 (3D12)</button>
                        <button onclick="calculateMagicSwordsman('ethereal-imperio')" class="btn btn-skill">에테리얼 임페리오 (3D20)</button>
                        <button onclick="calculateMagicSwordsman('speed-drain')" class="btn btn-skill">스피드레인 (마나 2D8)</button>
                        <button onclick="calculateMagicSwordsman('flow-aura')" class="btn btn-skill">플로우 오라 (수비)</button>
                    </div>
                </div>

                <!-- 소환술사 스킬 -->
                <div id="summoner-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="summoner-intelligence">지능</label>
                            <input type="number" id="summoner-intelligence" value="10" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateSummoner('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateSummoner('punch-to-beat-summon')" class="btn btn-skill">소환수를 이기는 주먹 (D10)</button>
                        <button onclick="calculateSummoner('punch-to-obey')" class="btn btn-skill">말을 잘 듣게 하는 주먹 (D10)</button>
                    </div>
                </div>

                <!-- 연금술사 스킬 -->
                <div id="alchemist-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="alchemist-intelligence">지능</label>
                            <input type="number" id="alchemist-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="alchemist-unknownPotions">미지의 물약 개수</label>
                            <input type="number" id="alchemist-unknownPotions" value="5" min="0">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateAlchemist('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateAlchemist('toxic-potion')" class="btn btn-skill">독성물약 (5D4)</button>
                        <button onclick="calculateAlchemist('explosive-potion')" class="btn btn-skill">폭발물약 (5D6)</button>
                        <button onclick="calculateAlchemist('healing-potion')" class="btn btn-skill">회복물약 (D10)</button>
                        <button onclick="calculateAlchemist('hasty-preparation')" class="btn btn-skill">성급한 준비 (D8 물약)</button>
                        <button onclick="calculateAlchemist('perfect-preparation')" class="btn btn-skill">완벽한 준비 (D20 물약)</button>
                    </div>
                </div>

                <!-- 빛의 사제 스킬 -->
                <div id="lightpriest-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="lightpriest-intelligence">지능</label>
                            <input type="number" id="lightpriest-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="lightpriest-hasAttacked">
                                전투 내 공격 이력 (자비 해제)
                            </label>
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateLightPriest('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateLightPriest('heal')" class="btn btn-skill">힐 (D6)</button>
                        <button onclick="calculateLightPriest('healing-wind')" class="btn btn-skill">치유의 바람 (2D6)</button>
                        <button onclick="calculateLightPriest('chalice-of-light')" class="btn btn-skill">빛의 성배 (5D4)</button>
                        <button onclick="calculateLightPriest('prayer')" class="btn btn-skill">기원 (5D8 보호막)</button>
                        <button onclick="calculateLightPriest('heavens-door')" class="btn btn-skill">헤븐즈 도어 (4D10 부활)</button>
                    </div>
                </div>

                <!-- 어둠의 사제 스킬 -->
                <div id="darkpriest-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="darkpriest-intelligence">지능</label>
                            <input type="number" id="darkpriest-intelligence" value="10" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateDarkPriest('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateDarkPriest('dark-energy')" class="btn btn-skill">어둠의 기운 (D4)</button>
                        <button onclick="calculateDarkPriest('grip')" class="btn btn-skill">손아귀 (D8)</button>
                        <button onclick="calculateDarkPriest('uzumania')" class="btn btn-skill">우즈마니아 (4D12)</button>
                        <button onclick="calculateDarkPriest('exilister')" class="btn btn-skill">엑실리스터 (4D20)</button>
                        <button onclick="calculateDarkPriest('annihilation-plain')" class="btn btn-skill">어나이스필레인 (7D12)</button>
                        <button onclick="calculateDarkPriest('ensiasticalia')" class="btn btn-skill">엔시아스티켈리아 (9D10)</button>
                    </div>
                </div>

                <!-- 번개의 사제 스킬 -->
                <div id="lightningpriest-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="lightningpriest-intelligence">지능</label>
                            <input type="number" id="lightningpriest-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="lightningpriest-n">일렉트릭 필드 영창 턴</label>
                            <input type="number" id="lightningpriest-n" value="3" min="0" max="6">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateLightningPriest('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateLightningPriest('spark')" class="btn btn-skill">스파크 (2D4)</button>
                        <button onclick="calculateLightningPriest('chain-lightning-damage')" class="btn btn-skill">체인 라이트닝 공격 (2D6)</button>
                        <button onclick="calculateLightningPriest('chain-lightning-shield')" class="btn btn-skill">체인 라이트닝 보호막 (2D4)</button>
                        <button onclick="calculateLightningPriest('electric-field')" class="btn btn-skill">일렉트릭 필드</button>
                        <button onclick="calculateLightningPriest('strike')" class="btn btn-skill">스트라이크 (2D8)</button>
                        <button onclick="calculateLightningPriest('divine-lightning')" class="btn btn-skill">신뇌격 (3D20)</button>
                    </div>
                </div>

                <!-- 영혼의 사제 스킬 -->
                <div id="soulpriest-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="soulpriest-intelligence">지능</label>
                            <input type="number" id="soulpriest-intelligence" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label for="soulpriest-soulsSpent">소모할 영혼 (원한)</label>
                            <input type="number" id="soulpriest-soulsSpent" value="5" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateSoulPriest('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateSoulPriest('absorb')" class="btn btn-skill">흡수 (2D4 회복)</button>
                        <button onclick="calculateSoulPriest('curse')" class="btn btn-skill">저주 (3D4)</button>
                        <button onclick="calculateSoulPriest('chest-pain')" class="btn btn-skill">흉통 (8D4)</button>
                        <button onclick="calculateSoulPriest('grudge')" class="btn btn-skill">원한 (영혼D12)</button>
                        <button onclick="calculateSoulPriest('collect')" class="btn btn-skill">수거 (D4 영혼)</button>
                    </div>
                </div>

                <!-- 시간의 사제 스킬 -->
                <div id="timepriest-skills" class="skill-form" style="display: none;">
                    <div class="stat-inputs">
                        <div class="form-group">
                            <label for="timepriest-intelligence">지능</label>
                            <input type="number" id="timepriest-intelligence" value="10" min="1">
                        </div>
                    </div>
                    <div class="skill-buttons">
                        <button onclick="calculateTimePriest('plain')" class="btn btn-skill">기본공격 (D6)</button>
                        <button onclick="calculateTimePriest('corrosion')" class="btn btn-skill">부식 (4D8)</button>
                    </div>
                </div>

                <!-- 결과 출력 -->
                <div id="damageResult" class="result"></div>
            </section>

            <!-- 계산 로그 -->
            <section id="log-section" class="section">
                <h2>📜 계산 로그</h2>
                <div id="calculationLog" class="log-area"></div>
            </section>
        </main>

        <footer>
            <p>TRPG 데미지 계산기 v1.0</p>
        </footer>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>
